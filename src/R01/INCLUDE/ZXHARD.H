#ifndef _386ex_h
#define _386ex_h
#if !defined(WORD)
#define     WORD  unsigned int
#endif
#if	!defined(MK_FP)
#define     MK_FP(seg,off) ((void far *) (((unsigned long)(seg) << 16) | (unsigned)(off)))
#endif
/*80386EX Register definitions*/

/* REMAP ADDRESSING REGISTERS*/
#define     REMAPCFGH     (WORD)(0x0023)
#define     REMAPCFGL     (WORD)(0x0022)
#define     REMAPCFG      (WORD)(0x0022)
      
/* INTERRUPT CONTROL REGISTERS -- SLOT 15 ADDRESSES*/
#define     NON_ICW1M     (WORD)(0x0F020)
#define     NON_ICW1S     (WORD)(0x0F0A0)
#define     NON_ICW2M     (WORD)(0x0F021)
#define     NON_ICW2S     (WORD)(0x0F0A1)
#define     NON_ICW3M     (WORD)(0x0F021)
#define     NON_ICW3S     (WORD)(0x0F0A1)
#define     NON_ICW4M     (WORD)(0x0F021)
#define     NON_ICW4S     (WORD)(0x0F0A1)
#define     NON_OCW1M     (WORD)(0x0F021)
#define     NON_OCW1S     (WORD)(0x0F0A1)
#define     NON_OCW2M     (WORD)(0x0F020)
#define     NON_OCW2S     (WORD)(0x0F0A0)
#define     NON_OCW3M     (WORD)(0x0F020)
#define     NON_OCW3S     (WORD)(0x0F0A0)
/*INTERRUPT CONTROL REGISTERS -- SLOT 0 ADDRESSES*/
#define     DOS_ICW1M     (WORD)(0x0020)
#define     DOS_ICW1S     (WORD)(0x00A0)
#define     DOS_ICW2M     (WORD)(0x0021)
#define     DOS_ICW2S     (WORD)(0x00A1)
#define     DOS_ICW3M     (WORD)(0x0021)
#define     DOS_ICW3S     (WORD)(0x00A1)
#define     DOS_ICW4M     (WORD)(0x0021)
#define     DOS_ICW4S     (WORD)(0x00A1)
#define     DOS_OCW1M     (WORD)(0x0021)
#define     DOS_OCW1S     (WORD)(0x00A1)
#define     DOS_OCW2M     (WORD)(0x0020)
#define     DOS_OCW2S     (WORD)(0x00A0)
#define     DOS_OCW3M     (WORD)(0x0020)
#define     DOS_OCW3S     (WORD)(0x00A0)


/*CONFIGURATION REGISTERS*/
#define     DMACFG        (WORD)(0x0F830)
#define     INTCFG        (WORD)(0x0F832)
#define     TMRCFG        (WORD)(0x0F834)
#define     SIOCFG        (WORD)(0x0F836)
#define     P1CFG         (WORD)(0x0F820)
#define     P2CFG         (WORD)(0x0F822)
#define     P3CFG         (WORD)(0x0F824)
#define     PINCFG        (WORD)(0x0F826)

/*WATCHDOG TIMER REGISTERS*/
#define     WDTRLDH       (WORD)(0x0F4C0)
#define     WDTRLDL       (WORD)(0x0F4C2)
#define     WDTCNTH       (WORD)(0x0F4C4)
#define     WDTCNTL       (WORD)(0x0F4C6)
#define     WDTCLR        (WORD)(0x0F4C8)
#define     WDTSTATUS     (WORD)(0x0F4CA)

/*TIMER CONTROL REGISTERS -- SLOT 15 ADDRESSES*/
#define     NON_TMR0      (WORD)(0x0F040)
#define     NON_TMR1      (WORD)(0x0F041)
#define     NON_TMR2      (WORD)(0x0F042)
#define     NON_TMRCON    (WORD)(0x0F043)
/*TIMER CONTROL REGISTERS -- SLOT 0 ADDRESSES*/
#define     DOS_TMR0      (WORD)(0x0040)
#define     DOS_TMR1      (WORD)(0x0041)
#define     DOS_TMR2      (WORD)(0x0042)
#define     DOS_TMRCON    (WORD)(0x0043)

/*INPUT/OUTPUT PORT UNIT REGISTERS*/
#define     P1PIN         (WORD)(0x0F860)
#define     P1LTC         (WORD)(0x0F862)
#define     P1DIR         (WORD)(0x0F864)
#define     P2PIN         (WORD)(0x0F868)
#define     P2LTC         (WORD)(0x0F86A)
#define     P2DIR         (WORD)(0x0F86C)
#define     P3PIN         (WORD)(0x0F870)
#define     P3LTC         (WORD)(0x0F872)
#define     P3DIR         (WORD)(0x0F874)

/*ASYNCHRONOUS SERIAL CHANNEL 0 -- SLOT 15 ADDERSSES*/
#define     NON_RBR0       (WORD)(0x0F4F8)
#define     NON_THR0       (WORD)(0x0F4F8)
#define     NON_TBR0       (WORD)(0x0F4F8)
#define     NON_DLL0       (WORD)(0x0F4F8)
#define     NON_IER0       (WORD)(0x0F4F9)
#define     NON_DLH0       (WORD)(0x0F4F9)
#define     NON_IIR0       (WORD)(0x0F4FA)
#define     NON_LCR0       (WORD)(0x0F4FB)
#define     NON_MCR0       (WORD)(0x0F4FC)
#define     NON_LSR0       (WORD)(0x0F4FD)
#define     NON_MSR0       (WORD)(0x0F4FE)
#define     NON_SCR0       (WORD)(0x0F4FF)
/*ASYNCHRONOUS SERIAL CHANNEL 0 -- SLOT 0 ADDERSSES*/
#define     DOS_RBR0       (WORD)(0x03F8)
#define     DOS_THR0       (WORD)(0x03F8)
#define     DOS_TBR0       (WORD)(0x03F8)
#define     DOS_DLL0       (WORD)(0x03F8)
#define     DOS_IER0       (WORD)(0x03F9)
#define     DOS_DLH0       (WORD)(0x03F9)
#define     DOS_IIR0       (WORD)(0x03FA)
#define     DOS_LCR0       (WORD)(0x03FB)
#define     DOS_MCR0       (WORD)(0x03FC)
#define     DOS_LSR0       (WORD)(0x03FD)
#define     DOS_MSR0       (WORD)(0x03FE)
#define     DOS_SCR0       (WORD)(0x03FF)

/*ASYNCHRONOUS SERIAL CHANNEL 1 -- SLOT 15 ADDRESSES*/
#define     NON_RBR1       (WORD)(0x0F8F8)
#define     NON_THR1       (WORD)(0x0F8F8)
#define     NON_TBR1       (WORD)(0x0F8F8)
#define     NON_DLL1       (WORD)(0x0F8F8)
#define     NON_IER1       (WORD)(0x0F8F9)
#define     NON_DLH1       (WORD)(0x0F8F9)
#define     NON_IIR1       (WORD)(0x0F8FA)
#define     NON_LCR1       (WORD)(0x0F8FB)
#define     NON_MCR1       (WORD)(0x0F8FC)
#define     NON_LSR1       (WORD)(0x0F8FD)
#define     NON_MSR1       (WORD)(0x0F8FE)
#define     NON_SCR1       (WORD)(0x0F8FF)
/*ASYNCHRONOUS SERIAL CHANNEL 1 -- SLOT 0 ADDRESSES*/
#define     DOS_RBR1       (WORD)(0x02F8)
#define     DOS_THR1       (WORD)(0x02F8)
#define     DOS_TBR1       (WORD)(0x02F8)
#define     DOS_DLL1       (WORD)(0x02F8)
#define     DOS_IER1       (WORD)(0x02F9)
#define     DOS_DLH1       (WORD)(0x02F9)
#define     DOS_IIR1       (WORD)(0x02FA)
#define     DOS_LCR1       (WORD)(0x02FB)
#define     DOS_MCR1       (WORD)(0x02FC)
#define     DOS_LSR1       (WORD)(0x02FD)
#define     DOS_MSR1       (WORD)(0x02FE)
#define     DOS_SCR1       (WORD)(0x02FF)

/*SYNCHRONOUS SERIAL CHANNEL*/
#define     SSIOTBUF       (WORD)(0x0F480)
#define     SSIORBUF       (WORD)(0x0F482)
#define     SSIOBAUD       (WORD)(0x0F484)
#define     SSIOCON1       (WORD)(0x0F486)
#define     SSIOCON2       (WORD)(0x0F488)
#define     SSIOCTR        (WORD)(0x0F48A)

/*CHIP SELECT UNIT REGISTERS*/
#define     CS0ADL         (WORD)(0x0F400)
#define     CS0ADH         (WORD)(0x0F402)
#define     CS0MSKL        (WORD)(0x0F404)
#define     CS0MSKH        (WORD)(0x0F406)
#define     CS1ADL         (WORD)(0x0F408)
#define     CS1ADH         (WORD)(0x0F40A)
#define     CS1MSKL        (WORD)(0x0F40C)
#define     CS1MSKH        (WORD)(0x0F40E)
#define     CS2ADL         (WORD)(0x0F410)
#define     CS2ADH         (WORD)(0x0F412)
#define     CS2MSKL        (WORD)(0x0F414)
#define     CS2MSKH        (WORD)(0x0F416)
#define     CS3ADL         (WORD)(0x0F418)
#define     CS3ADH         (WORD)(0x0F41A)
#define     CS3MSKL        (WORD)(0x0F41C)
#define     CS3MSKH        (WORD)(0x0F41E)
#define     CS4ADL         (WORD)(0x0F420)
#define     CS4ADH         (WORD)(0x0F422)
#define     CS4MSKL        (WORD)(0x0F424)
#define     CS4MSKH        (WORD)(0x0F426)
#define     CS5ADL         (WORD)(0x0F428)
#define     CS5ADH         (WORD)(0x0F42A)
#define     CS5MSKL        (WORD)(0x0F42C)
#define     CS5MSKH        (WORD)(0x0F42E)
#define     CS6ADL         (WORD)(0x0F430)
#define     CS6ADH         (WORD)(0x0F432)
#define     CS6MSKL        (WORD)(0x0F434)
#define     CS6MSKH        (WORD)(0x0F436)
#define     UCSADL         (WORD)(0x0F438)
#define     UCSADH         (WORD)(0x0F43A)
#define     UCSMSKL        (WORD)(0x0F43C)
#define     UCSMSKH        (WORD)(0x0F43E)

/* REFRESH CONTROL UNIT REGISTERS*/
#define     RFSBAD         (WORD)(0x0F4A0)
#define     RFSCIR         (WORD)(0x0F4A2)
#define     RFSCON         (WORD)(0x0F4A4)
#define     RFSADD         (WORD)(0x0F4A6)

/* POWER MANAGEMENT CONTROL REGISTERS*/
#define     PWRCON         (WORD)(0x0F800)
#define     CLKPRS         (WORD)(0x0F804)

/* DMA UNIT REGISTERS -- SLOT 15 ADDRESSES*/
#define     NON_DMA0TAR0_1 (WORD)(0x0F000)
#define     NON_DMA0BYC0_1 (WORD)(0x0F001)
#define     NON_DMA1TAR0_1 (WORD)(0x0F002)
#define     NON_DMA1BYC0_1 (WORD)(0x0F003)
#define     NON_DMACMD1    (WORD)(0x0F008)
#define     NON_DMASTS     (WORD)(0x0F008)
#define     NON_DMASRR     (WORD)(0x0F009)
#define     NON_DMAMSK     (WORD)(0x0F00A)
#define     NON_DMAMOD1    (WORD)(0x0F00B)
#define     NON_DMACLRBP   (WORD)(0x0F00C)
#define     NON_DMACLR     (WORD)(0x0F00D)
#define     NON_DMACLRMSK  (WORD)(0x0F00E)
#define     NON_DMAGRPMSK  (WORD)(0x0F00F)
#define     NON_DMA0REQ0_1 (WORD)(0x0F010)
#define     NON_DMA0REQ2_3 (WORD)(0x0F011)
#define     NON_DMA1REQ0_1 (WORD)(0x0F012)
#define     NON_DMA1REQ2_3 (WORD)(0x0F013)
#define     NON_DMABSR     (WORD)(0x0F018)
#define     NON_DMACHR     (WORD)(0x0F019)
#define     NON_DMAIS      (WORD)(0x0F019)
#define     NON_DMACMD2    (WORD)(0x0F01A)
#define     NON_DMAMOD2    (WORD)(0x0F01B)
#define     NON_DMAIEN     (WORD)(0x0F01C)
#define     NON_DMAOVFE    (WORD)(0x0F01D)
#define     NON_DMACLRTC   (WORD)(0x0F01E)
#define     NON_DMA1TAR2   (WORD)(0x0F083)
#define     NON_DMA1TAR3   (WORD)(0x0F085)
#define     NON_DMA0TAR3   (WORD)(0x0F086)
#define     NON_DMA0TAR2   (WORD)(0x0F087)
#define     NON_DMA0BYC2   (WORD)(0x0F098)
#define     NON_DMA1BYC2   (WORD)(0x0F099)

/* DMA UNIT REGISTERS -- SLOT 0 ADDRESSES*/
#define     DOS_DMA0TAR    (WORD)(0x0000)
#define     DOS_DMA0BYC    (WORD)(0x0001)
#define     DOS_DMA1TAR    (WORD)(0x0002)
#define     DOS_DMA1BYC    (WORD)(0x0003)
#define     DOS_DMACMD1    (WORD)(0x0008)
#define     DOS_DMASTS     (WORD)(0x0008)
#define     DOS_DMASRR     (WORD)(0x0009)
#define     DOS_DMAMSK     (WORD)(0x000A)
#define     DOS_DMAMOD1    (WORD)(0x000B)
#define     DOS_DMACLRBP   (WORD)(0x000C)
#define     DOS_DMACLR     (WORD)(0x000D)
#define     DOS_DMACLRMSK  (WORD)(0x000E)
#define     DOS_DMAGRPMSK  (WORD)(0x000F)
#define     DOS_DMA1TARPL  (WORD)(0x0083)
#define     DOS_DMA0TARPL  (WORD)(0x0087)

/*A20GATE AND FAST CPU RESET -- SLOT 15 ADDRESS*/
#define     NON_PORT92     (WORD)(0x0F092)
/*A20GATE AND FAST CPU RESET -- SLOT 0 ADDRESS*/
#define     DOS_PORT92     (WORD)(0x0092)

#define     _SetEXRegWord(reg,val)   (outpw(reg,val))
#define     _SetEXRegByte(reg,val)   (outp(reg,val))
#define     _ReadEXRegWord(val,reg)  (val=inpw(reg))
#define     _GetEXRegByte(reg)       inp(reg)
#define     _GetEXRegWord(reg)       inpw(reg)

#endif
